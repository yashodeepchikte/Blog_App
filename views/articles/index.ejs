<%- include("../partials/_header") -%>
<div class="container-fluid">
    <h1>Blog App</h1>
    <a href="/articles/new" class="btn btn-success">New Article</a>

    <% articles.forEach(article => { %>

        <div class= "card mt-4">
            <div class="card-body">
                <h1 class="card-title"> <%= article.title %> </h1>
                <div class="card-subtitle mb-2 text-muted" >
                    <%= article.createdAt.toLocaleDateString() %>
                </div>
                <div class="card-text mb-2">

                <% if ( article.description.length >=100 ) { %>
                  <h3> <%= article.description.slice(0,50) + "..." %> </h3>
                <% }else{ %>
                  <h3> <%= article.description %> </h3>
                <% } %>




                </div>
            </div>

            <form action="articles/delete" method="post">
                <a href="/articles/<%= article.slug %>" class="btn btn-primary mb-4 ml-1">Read More</a>
                <a href="/articles/delete/<%= article.slug%>" class="btn btn-danger mb-4 ml-1">Delete </a>
                <a href="/articles/edit/<%= article.slug %>" class="btn btn-info mb-4 ml-1"> Edit</a>

            </form>

        </div>




   <% }) %>


</div>
<%- include("../partials/_footer") -%>
